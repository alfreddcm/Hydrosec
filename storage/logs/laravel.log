[2024-09-15 23:43:47] local.INFO: Request received: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:43:48] local.ERROR: Exception occurred: {"error":"The key field is required."} 
[2024-09-15 23:44:17] local.INFO: Request received: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:44:17] local.INFO: Validated data: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:44:17] local.INFO: Decrypted Data from tower: {"key":"192.168.4.10,EC:64:C9:C4:A3:65,2024"} 
[2024-09-15 23:44:17] local.INFO: Decrypted Data from tower: {"data":"6.25,25.64,7.12,0"} 
[2024-09-15 23:44:20] local.INFO: select `id`, `name`, `towercode` from `tbl_tower`  
[2024-09-15 23:44:20] local.INFO: array (
)  
[2024-09-15 23:44:20] local.INFO: 1625.6  
[2024-09-15 23:44:20] local.ERROR: Exception occurred: {"error":"Undefined variable $decrypted_key"} 
[2024-09-15 23:44:58] local.INFO: Request received: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:44:58] local.INFO: Validated data: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:44:58] local.INFO: Decrypted Data from tower: {"key":"192.168.4.10,EC:64:C9:C4:A3:65,2024"} 
[2024-09-15 23:44:58] local.INFO: Decrypted Data from tower: {"data":"6.25,25.64,7.12,0"} 
[2024-09-15 23:45:00] local.INFO: select `id`, `name`, `towercode` from `tbl_tower`  
[2024-09-15 23:45:00] local.INFO: array (
)  
[2024-09-15 23:45:00] local.INFO: 1463.24  
[2024-09-15 23:45:00] local.INFO: Decrypted Data from tower: {"phValue":"6.25","temp":"25.64","waterLevel":"7.12","light":"0","ipAddress":"1","macAddress":"9","towercode":"2"} 
[2024-09-15 23:45:06] local.INFO: Request received: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:45:06] local.INFO: Validated data: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:45:06] local.INFO: Decrypted Data from tower: {"key":"192.168.4.10,EC:64:C9:C4:A3:65,2024"} 
[2024-09-15 23:45:06] local.INFO: Decrypted Data from tower: {"data":"6.25,25.64,7.12,0"} 
[2024-09-15 23:45:08] local.INFO: select `id`, `name`, `towercode` from `tbl_tower`  
[2024-09-15 23:45:08] local.INFO: array (
)  
[2024-09-15 23:45:08] local.INFO: 1452.87  
[2024-09-15 23:45:08] local.INFO: Decrypted Data from tower: {"phValue":"6.25","temp":"25.64","waterLevel":"7.12","light":"0","ipAddress":"1","macAddress":"9","towercode":"2"} 
[2024-09-15 23:50:09] local.INFO: Mode request received {"input":{"Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"}} 
[2024-09-15 23:50:10] local.INFO: Decrypted request data {"decryptedIpAddress":"192.168.4.10","decryptedMacAddress":"EC:64:C9:C4:A3:65","decryptedTowercode":"2024"} 
[2024-09-15 23:50:12] local.INFO: select * from `tbl_tower`  
[2024-09-15 23:50:12] local.INFO: array (
)  
[2024-09-15 23:50:12] local.INFO: 1596.59  
[2024-09-15 23:50:12] local.INFO: Retrieved tower data {"towerData":[{"id":1,"name":"eyJpdiI6Inp6OHp4MU1NbjlpM05kMlNTRDg3YWc9PSIsInZhbHVlIjoiNDdVdm5YTW9HRWcrUFFJclN5M0tlQT09IiwibWFjIjoiMzk1MzVlNzdjYmQ2OWNkZjAxZmVmODg0YWMzY2E0OTk4MzVmYTg0MjhmMDIyYzk1YjY4ZjE4NGY3ZDc1MDE3NiIsInRhZyI6IiJ9","towercode":"eyJpdiI6InpkMU56V3d6T013bU4vRnViNVg4Q1E9PSIsInZhbHVlIjoiN3Mxcm5OT215MjFEZG92SHBiL25lUT09IiwibWFjIjoiNDg1OGYxOWM3MmMyM2NjNjEyOTVjOTFmMjA4N2I0NTZhYWM5ZTNiNTAzZjgyMDNmNTc1ZDc3OWMzNGViNTI1NCIsInRhZyI6IiJ9","OwnerID":1,"ipAdd":null,"macAdd":null,"status":"eyJpdiI6IllMcGtPU3RPbjR3TEc0WnJWMXFtbUE9PSIsInZhbHVlIjoiQ1ZxUStFNktnK1ptNStKTjVqVUtidz09IiwibWFjIjoiMDYzOTQxNTYyMzYzZmI5NmExZjcwYmM2ZTZlODIyYjdlNGJmMjY3Njg1YzM5MzI0Nzg4NjE1NWEwNzlkNjM5ZCIsInRhZyI6IiJ9
","mode":"eyJpdiI6Im83WUdRalBGOVJjOEtoL0VXQnhOZkE9PSIsInZhbHVlIjoiWVZ0L29md1JvYjhUaCt6T0dsN00vZz09IiwibWFjIjoiNzY3NjQxNTJiNGMyMWIwNTc4MTZjN2M1ZDk4OTliZjkzN2ExNTZhNTI3N2I4MTAwNTdkMzNmM2JlZDkzY2IyNyIsInRhZyI6IiJ9","startdate":null,"enddate":null,"created_at":"2024-09-08T00:27:31.000000Z","updated_at":"2024-09-15T13:04:13.000000Z","last_sensor_error_email_sent_at":"2024-09-15 11:50:56","last_critical_condition_email_sent_at":"2024-09-15 12:05:03","last_pumping_email_sent_at":"2024-09-11 04:42:01","last_email_sensor_off":"2024-09-11 04:42:11"}]} 
[2024-09-15 23:50:12] local.INFO: Checking tower code {"currentTowerCode":"2024","decryptedTowercode":"2024"} 
[2024-09-15 23:50:12] local.INFO: Decrypted mode and status {"mode":"0","status":"1"} 
[2024-09-15 23:50:12] local.INFO: select * from `tbl_tower` where `id` = ? limit 1  
[2024-09-15 23:50:12] local.INFO: array (
  0 => 1,
)  
[2024-09-15 23:50:12] local.INFO: 426.06  
[2024-09-15 23:50:13] local.INFO: update `tbl_tower` set `ipAdd` = ?, `macAdd` = ?, `tbl_tower`.`updated_at` = ? where `id` = ?  
[2024-09-15 23:50:13] local.INFO: array (
  0 => 'eyJpdiI6IlkvM2pvY2FEOHR2QWFzZjZBaHZRVWc9PSIsInZhbHVlIjoiUEZISFNsSU9MYW5sb25wVlVQeDVRUT09IiwibWFjIjoiNWZlNWZmMzQzMmRhNTM5MGI4MDQ1MWUzNDQ0MGJhZmI3MWVkYTBjNWVlMjc3MjE0NTgxY2E4M2JkNmQ4MTAwYSIsInRhZyI6IiJ9',
  1 => 'eyJpdiI6IjczQXEwc1RhcGhiM0hNRitJVjZ2VFE9PSIsInZhbHVlIjoiRHBzRytueXEveVZIOU41a1djY2ZJRHZYSGtRR2hHV240M2JWZXFEYVV1dz0iLCJtYWMiOiIyMjYwZTlkYzI2OGYzNWM4ZWE3N2RiNTAwY2RkMGZiZmNiNGNmN2UyODcwZmJjOGNmZjdmMTI2YWEyNWEwNTUwIiwidGFnIjoiIn0=',
  2 => '2024-09-15 23:50:12',
  3 => 1,
)  
[2024-09-15 23:50:13] local.INFO: 431.77  
[2024-09-15 23:50:13] local.INFO: Updated Tower IP and MAC addresses: {"id":1} 
[2024-09-15 23:50:29] local.INFO: Request received: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:50:29] local.INFO: Validated data: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:50:29] local.INFO: Decrypted Data from tower: {"key":"192.168.4.10,EC:64:C9:C4:A3:65,2024"} 
[2024-09-15 23:50:29] local.INFO: Decrypted Data from tower: {"data":"6.25,25.64,7.12,0"} 
[2024-09-15 23:50:30] local.INFO: select `id`, `name`, `towercode` from `tbl_tower`  
[2024-09-15 23:50:30] local.INFO: array (
)  
[2024-09-15 23:50:30] local.INFO: 1499.09  
[2024-09-15 23:50:30] local.INFO: Decrypted Data from tower: {"phValue":"6.25","temp":"25.64","waterLevel":"7.12","light":"0","ipAddress":"1","macAddress":"9","towercode":"2"} 
[2024-09-15 23:50:33] local.INFO: Request received: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:50:33] local.INFO: Validated data: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:50:33] local.INFO: Decrypted Data from tower: {"key":"192.168.4.10,EC:64:C9:C4:A3:65,2024"} 
[2024-09-15 23:50:33] local.INFO: Decrypted Data from tower: {"data":"6.25,25.64,7.12,0"} 
[2024-09-15 23:50:34] local.INFO: select `id`, `name`, `towercode` from `tbl_tower`  
[2024-09-15 23:50:34] local.INFO: array (
)  
[2024-09-15 23:50:34] local.INFO: 1447.08  
[2024-09-15 23:50:34] local.INFO: Decrypted Data from tower: {"phValue":"6.25","temp":"25.64","waterLevel":"7.12","light":"0","ipAddress":"1","macAddress":"9","towercode":"2"} 
[2024-09-15 23:52:02] local.INFO: Request received: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:52:03] local.INFO: Validated data: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:52:03] local.INFO: Decrypted Data from tower: {"key":"192.168.4.10,EC:64:C9:C4:A3:65,2024"} 
[2024-09-15 23:52:03] local.INFO: Decrypted Data from tower: {"data":"6.25,25.64,7.12,0"} 
[2024-09-15 23:52:06] local.INFO: select `id`, `name`, `towercode` from `tbl_tower`  
[2024-09-15 23:52:06] local.INFO: array (
)  
[2024-09-15 23:52:06] local.INFO: 1579.13  
[2024-09-15 23:52:06] local.INFO: Decrypted Data from tower: {"phValue":"6.25","temp":"25.64","waterLevel":"7.12","light":"0","ipAddress":"1","macAddress":"9","towercode":"2"} 
[2024-09-15 23:53:47] local.INFO: Request received: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:53:47] local.INFO: Validated data: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:53:47] local.INFO:  keys: {"key":"192.168.4.10,EC:64:C9:C4:A3:65,2024"} 
[2024-09-15 23:53:47] local.INFO: Data: {"data":"6.25,25.64,7.12,0"} 
[2024-09-15 23:53:48] local.INFO: select `id`, `name`, `towercode` from `tbl_tower`  
[2024-09-15 23:53:48] local.INFO: array (
)  
[2024-09-15 23:53:48] local.INFO: 1445.34  
[2024-09-15 23:53:48] local.INFO: from tower: {"phValue":"6.25","temp":"25.64","waterLevel":"7.12","light":"0","ipAddress":"1","macAddress":"9","towercode":"2"} 
[2024-09-15 23:55:14] local.INFO: Request received: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:55:14] local.INFO: Validated data: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:55:14] local.INFO:  keys: {"key":"192.168.4.10,EC:64:C9:C4:A3:65,2024"} 
[2024-09-15 23:55:14] local.INFO: Data: {"data":"6.25,25.64,7.12,0"} 
[2024-09-15 23:55:15] local.INFO: select `id`, `name`, `towercode` from `tbl_tower`  
[2024-09-15 23:55:15] local.INFO: array (
)  
[2024-09-15 23:55:15] local.INFO: 1432.6  
[2024-09-15 23:55:15] local.INFO: from tower: {"phValue":"6.25","temp":"25.64","waterLevel":"7.12","light":"0","ipAddress":"192.168.4.10","macAddress":"EC:64:C9:C4:A3:65","towercode":"2024"} 
[2024-09-15 23:55:16] local.INFO: select * from `tbl_tower` where `id` = ? limit 1  
[2024-09-15 23:55:16] local.INFO: array (
  0 => 1,
)  
[2024-09-15 23:55:16] local.INFO: 407.93  
[2024-09-15 23:55:16] local.INFO: Decrypted IP and MAC addresses: {"ipAddress":"192.168.4.10","macAddress":"EC:64:C9:C4:A3:65"} 
[2024-09-15 23:55:16] local.INFO: Sensor data condition check: {"pH":"Good","Temperature":"Hot","Nutrient Volume":"35%"} 
[2024-09-15 23:55:16] local.INFO: Trigger counts: {"pH Triggers":0,"Temperature Triggers":0,"Nutrient Volume Triggers":0} 
[2024-09-15 23:55:16] local.ERROR: Error storing data: {"error":"Undefined variable $decrypted_key"} 
[2024-09-15 23:56:20] local.INFO: Request received: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:56:20] local.INFO: Validated data: {"sensorData":"+WMZwmECyJ5eI68jaUMzpSIvh9Zwzk23w+aCAwOCIG4=","Credentials":"0WKpqdiTj9r/ZoCYOP0UtDN5PMMZesqRn00ceeIa8JGrtZQ0Czn2WMMGxQzWr5qp"} 
[2024-09-15 23:56:20] local.INFO:  keys: {"key":"192.168.4.10,EC:64:C9:C4:A3:65,2024"} 
[2024-09-15 23:56:20] local.INFO: Data: {"data":"6.25,25.64,7.12,0"} 
[2024-09-15 23:56:21] local.INFO: select `id`, `name`, `towercode` from `tbl_tower`  
[2024-09-15 23:56:21] local.INFO: array (
)  
[2024-09-15 23:56:21] local.INFO: 1503.55  
[2024-09-15 23:56:21] local.INFO: from tower: {"phValue":"6.25","temp":"25.64","waterLevel":"7.12","light":"0","ipAddress":"192.168.4.10","macAddress":"EC:64:C9:C4:A3:65","towercode":"2024"} 
[2024-09-15 23:56:22] local.INFO: select * from `tbl_tower` where `id` = ? limit 1  
[2024-09-15 23:56:22] local.INFO: array (
  0 => 1,
)  
[2024-09-15 23:56:22] local.INFO: 428.03  
[2024-09-15 23:56:22] local.INFO: Decrypted IP and MAC addresses: {"ipAddress":"192.168.4.10","macAddress":"EC:64:C9:C4:A3:65"} 
[2024-09-15 23:56:22] local.INFO: Sensor data condition check: {"pH":"Good","Temperature":"Hot","Nutrient Volume":"35%"} 
[2024-09-15 23:56:22] local.INFO: Trigger counts: {"pH Triggers":0,"Temperature Triggers":0,"Nutrient Volume Triggers":0} 
[2024-09-15 23:56:22] local.INFO: insert into `sensor` (`towerid`, `pH`, `temperature`, `nutrientlevel`, `light`, `updated_at`, `created_at`) values (?, ?, ?, ?, ?, ?, ?)  
[2024-09-15 23:56:22] local.INFO: array (
  0 => 1,
  1 => 'hU5ZO5WwZLWqbUAzc5GD2g==',
  2 => 'm117AqbBijo7xgjVswynBQ==',
  3 => 'ieDG/gPm8oOtzUGCsSlwTA==',
  4 => 'yYWitIHG242+3ATbRxFwYA==',
  5 => '2024-09-15 23:56:22',
  6 => '2024-09-15 23:56:22',
)  
[2024-09-15 23:56:22] local.INFO: 430.67  
